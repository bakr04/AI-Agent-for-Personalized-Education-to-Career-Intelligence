import json
import os
import sys

try:
	import orjson  # type: ignore
except Exception:
	orjson = None
from dotenv import load_dotenv
from packages.agent import LearnerIntelligenceAgent


load_dotenv()

RAW_INPUT = """
أنا في السنة الأخيرة في كلية علوم الكمبيوتر، وبصراحة خلفيتي مزيج بين النظرية والتطبيق وكمان حاجات بتعلمتها لوحدي وأنا بحاول أفهمها. من ناحية المواد، خدت كورسات أساسية زي التعلم الآلي، نظم التشغيل، وشبكات الكمبيوتر. في التعلم الآلي عملت كويس جدًا (جبت A)، وده منطقي لأن الموضوع عجبني جدًا وكنت بقعد أدرس المفاهيم أكتر من مجرد المذاكرة للامتحانات. نظم التشغيل كانت أصعب شوية عليا — جبت B+، mostly لأن شوية حاجات منخفضة المستوى زي تفاصيل الجدولة وإدارة الذاكرة خدت وقت لغاية ما فهمتها، بس لسه عندي فهم كويس إزاي مكونات الـOS بتشتغل مع بعض. شبكات الكمبيوتر مشت كويس (A-)، وبحس إني مرتاح مع الأساسيات زي الطبقات، التوجيه، والبروتوكولات، حتى لو مش خبير، بس كفاية إني أقدر أفهم أنظمة موزعة واتصال المكونات.

بالنسبة للمهارات، أقوى حاجة عندي في بايثون، واستخدمتها كتير في شغل التعلم الآلي. اشتغلت على TensorFlow وبحس إني مرتاح في بناء، تدريب، وتجربة النماذج، خصوصًا المشاريع الصغيرة. كمان متعود أشتغل على لينكس، أتعامل مع التيرمنال، أدير البيئات، وأشغل تجارب هناك. أساسيات الشبكات فاهمها كويس، عمليًا ونظريًا على مستوى مبتدئ، مش advanced جدًا، بس كفاية إني أفهم أنظمة موزعة واتصال المكونات. وأستخدم Git كويس — branching، commits، push/pull، والتعاون في مشاريع صغيرة بدون مشاكل.

بالنسبة للمشاريع، عملت مشروع صغير لنظام توصية، واللي ساعدني أوصل بين النظرية والتطبيق. الموضوع ماكنش ضخم أو production-scale، بس خدني خطوة خطوة مع preprocessing للبيانات، تجربة النماذج، وتقييم النتائج. اتعلمت كتير من الـdebugging وإني أجرب وأعدل بدل ما أمشي ورا tutorial، وده حقيقي بحبه. بشكل عام، أنا أفضل التعلم العملي بالمشاريع — بذاكر وأتعلم أفضل لما أبني حاجة، أكسرها، وأصلحها، بدل ما أكتفي بالقراية أو المحاضرات.

اهتماماتي بشكل أساسي حوالين الذكاء الاصطناعي والأنظمة الموزعة، خصوصًا المكان اللي الاتنين بيتقاطعوا فيه. عندي فضول أعرف إزاي الأنظمة الذكية ممكن تتوسع، إزاي النماذج تتصرف في البيئة الواقعية، وإزاي قرارات على مستوى النظام تأثر على أداء الـML. على المدى الطويل، هدفي أبني أنظمة ذكية ونماذج تعلم آلي scalable تشتغل فعليًا في الواقع، مش بس في الـnotebooks. واعي إني لسه عندي فجوات، خصوصًا في معرفة الأنظمة العميقة وبعض الأساسيات الرياضية، بس متحفز أطورها تدريجيًا.

بالنسبة للوقت، أقدر أخصص حوالي 10 ساعات في الأسبوع، فبحب أشغل وقتي على حاجات عملية ومركزة وتعلمني حاجة قيمة. مش هدفي مجرد جمع شهادات — عايز خبرة تتراكم مع الوقت وتقربني أكتر للشغل الجدي في ML أو الأنظمة في المستقبل.
""".strip()


def _read_input() -> str:
	return RAW_INPUT


def _print_json(payload: dict) -> None:
	if orjson is not None:
		print(orjson.dumps(payload, option=orjson.OPT_INDENT_2).decode("utf-8"))
		return
	print(json.dumps(payload, ensure_ascii=False, indent=2))


def main() -> None:
	raw_input = _read_input()
	if not raw_input:
		print("No input provided.", file=sys.stderr)
		return

	agent = LearnerIntelligenceAgent()
	try:
		output = agent.infer(raw_input)
	except Exception as exc:
		print(str(exc), file=sys.stderr)
		return

	_print_json(output.model_dump())


if __name__ == "__main__":
	main()
